<!doctype html>
<html class="no-js" lang="en">

<head>
    <!-- meta data -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <!--font-family-->
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i"
          rel="stylesheet">

    <!-- title of site -->
    <title>SVM/Bayes</title>

    <!-- For favicon png -->
    <link rel="shortcut icon" type="image/icon" href="assets/logo/favicon.png"/>

    <!--font-awesome.min.css-->
    <link rel="stylesheet" href="assets/css/font-awesome.min.css">

    <!--linear icon css-->
    <link rel="stylesheet" href="assets/css/linearicons.css">

    <!--animate.css-->
    <link rel="stylesheet" href="assets/css/animate.css">

    <!--flaticon.css-->
    <link rel="stylesheet" href="assets/css/flaticon.css">

    <!--slick.css-->
    <link rel="stylesheet" href="assets/css/slick.css">
    <link rel="stylesheet" href="assets/css/slick-theme.css">

    <!--bootstrap.min.css-->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">

    <!-- bootsnav -->
    <link rel="stylesheet" href="assets/css/bootsnav.css">

    <!--style.css-->
    <link rel="stylesheet" href="assets/css/style.css">

    <!--responsive.css-->
    <link rel="stylesheet" href="assets/css/responsive.css">
    <link rel="stylesheet" href="assets/css/AdminLTE.css">
    <link rel="stylesheet" href="assets/css/alt/style.css">
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>

    <![endif]-->
    <style>
        .modal-msg .modal-body {
            text-align: center;
        }
    </style>
</head>

<body>
<!--[if lte IE 9]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade
    your browser</a> to improve your experience and security.</p>
<![endif]-->

<!--header-top start -->
<header id="header-top" class="header-top">
    <ul>
        <li>
            <div class="header-top-left">
                <ul>
                    <li class="select-opt">
                        <a href="#"><span class="lnr lnr-magnifier"></span></a>
                    </li>
                </ul>
            </div>
        </li>

    </ul>

</header><!--/.header-top-->
<!--header-top end -->

<!-- top-area Start -->
<section class="top-area">
    <div class="header-area">
        <!-- Start Navigation -->
        <nav class="navbar navbar-default bootsnav  navbar-sticky navbar-scrollspy" data-minus-value-desktop="70"
             data-minus-value-mobile="55" data-speed="1000">

            <div class="container">

                <!-- Start Header Navigation -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-menu">
                        <i class="fa fa-bars"></i>
                    </button>
                    <a class="navbar-brand" href="index.html">SVM/<span>Bayes</span></a>

                </div><!--/.navbar-header-->
                <!-- End Header Navigation -->

                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse menu-ui-design" id="navbar-menu">
                    <ul class="nav navbar-nav navbar-right" data-in="fadeInDown" data-out="fadeOutUp">
                        <li class=" scroll active"><a href="#home">home</a></li>
                        <li><a href="https://github.com/337191426/SvmBayes" title="跳转到GitHub" target="_blank">GitHub
                        </a></li>
                        <li><a href="https://github.com/337191426/SvmBayes/blob/master/README.md" title="ReadMe"
                               target="_blank">ReadMe</a></li>
                    </ul><!--/.nav -->
                </div><!-- /.navbar-collapse -->
            </div><!--/.container-->
        </nav><!--/nav-->
        <!-- End Navigation -->
    </div><!--/.header-area-->
    <div class="clearfix"></div>

</section><!-- /.top-area-->
<!-- top-area End -->

<!--welcome-hero start -->
<section id="home" class="welcome-hero">
    <div class="container">
        <div class="welcome-hero-txt">
            <h2>文本情感分类实践</h2>
            <p>
                线性分类支持向量机/朴素贝叶斯
            </p>
        </div>
        <div class="loader-inner" id="loader-inner" style="height: 673px; margin-top: 300px">
            <div class="loader-line-wrap">
                <div class="loader-line"></div>
            </div>
            <div class="loader-line-wrap">
                <div class="loader-line"></div>
            </div>
            <div class="loader-line-wrap">
                <div class="loader-line"></div>
            </div>
            <div class="loader-line-wrap">
                <div class="loader-line"></div>
            </div>
            <div class="loader-line-wrap">
                <div class="loader-line"></div>
            </div>
        </div>
        <div class="welcome-hero-serch-box">
            <div class="welcome-hero-form">
                <div class="single-welcome-hero-form">
                    <h3>SVM/Bayes</h3>
                    <form action="index.html">
                        <input type="text" id="words" placeholder="请输入一段英文"/>
                    </form>
                </div>
            </div>
            <div class="welcome-hero-serch">
                <button class="welcome-hero-btn" onclick="submit1()" id="submit1">
                    LinearSVC <i data-feather="search"></i>
                </button>
            </div>
            <div class="welcome-hero-serch">
                <button class="welcome-hero-btn" onclick="submit2()" id="submit2">
                    NaiveBayes <i data-feather="search"></i>
                </button>
            </div>
        </div>
    </div>
</section><!--/.welcome-hero-->
<!--welcome-hero end -->


<!-- statistics strat -->
<section id="statistics" class="statistics">
    <div class="container">
        <div class="statistics-counter">
            <div class="col-md-3 col-sm-6">
                <div class="single-ststistics-box">
                    <div class="statistics-content">
                        <div class="counter">64780</div>
                        <span>条</span>
                    </div><!--/.statistics-content-->
                    <h3>训练集</h3>
                </div><!--/.single-ststistics-box-->
            </div><!--/.col-->
            <div class="col-md-3 col-sm-6">
                <div class="single-ststistics-box">
                    <div class="statistics-content">
                        <div class="counter">82</div>
                        <span>%</span>
                    </div><!--/.statistics-content-->
                    <h3>SVM准确率</h3>
                </div><!--/.single-ststistics-box-->
            </div><!--/.col-->
            <div class="col-md-3 col-sm-6">
                <div class="single-ststistics-box">
                    <div class="statistics-content">
                        <div class="counter">79</div>
                        <span>%</span>
                    </div><!--/.statistics-content-->
                    <h3>Bayes准确率</h3>
                </div><!--/.single-ststistics-box-->
            </div><!--/.col-->
        </div><!--/.statistics-counter-->
    </div><!--/.container-->

</section><!--/.counter-->
<!-- statistics end -->

<!--footer start-->
<footer id="footer" class="footer">
    <div class="container">
        <div class="footer-menu">
            <div class="row">
                <div class="col-sm-3">
                    <div class="navbar-header">
                        <a class="navbar-brand" href="index.html">SVM/<span>Bayes</span></a>
                    </div><!--/.navbar-header-->
                </div>
            </div>
        </div>
        <div class="hm-footer-copyright">
            <div class="row">
                <div class="col-sm-5">
                    <p>
                        &copy;copyright. designed and developed by 337191426@qq.com
                    </p><!--/p-->
                </div>
                <div class="col-sm-7">
                    <div class="footer-social">
                        <span><i class="fa fa-phone"> 15927067831</i></span>
                    </div>
                </div>
            </div>

        </div><!--/.hm-footer-copyright-->
    </div><!--/.container-->

    <div class="modal fade modal-msg" id="modal-msg">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">提示</h4>
                </div>
                <div class="modal-body">
                    <p>信息保存成功&hellip;</p>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!--配置netty弹窗-->
    <div class="modal fade" id="modal-default" tabindex="-1" role="dialog" aria-labelledby="settingNettyModalLabel"
         aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">result</h4>
                </div>
                <div class="modal-body">
                    <!-- general form elements disabled -->
                    <!-- Horizontal Form -->
                    <div class="box box-primary">
                        <!-- form start -->
                        <div class="box-body">
                            <div class="form-group">
                                <p>prediction：<span id="prediction"> </span></p>
                            </div>

                            <div class="form-group">
                                <p>rawPrediction
                                    ：<span id="rawPrediction"> </span><span>&nbsp;&nbsp;(indicates the
                                        accuracy)</span></p>

                            </div>
                        </div>
                    </div>
                    <!-- /.box -->
                </div>
                <div class="modal-footer">
                    <button type="button" id="btn-setting-netty" class="btn btn-success group-modify">确认</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!--配置netty弹窗-->
    <div id="scroll-Top">
        <div class="return-to-top">
            <i class="fa fa-angle-up " id="scroll-top" data-toggle="tooltip" data-placement="top" title=""
               data-original-title="Back to Top" aria-hidden="true"></i>
        </div>

    </div><!--/.scroll-Top-->

</footer><!--/.footer-->
<!--footer end-->

<!-- Include all js compiled plugins (below), or include individual files as needed -->

<script src="assets/js/jquery.js"></script>

<!--modernizr.min.js-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>

<!--bootstrap.min.js-->
<script src="assets/js/bootstrap.min.js"></script>

<!-- bootsnav js -->
<script src="assets/js/bootsnav.js"></script>

<!--feather.min.js-->
<script src="assets/js/feather.min.js"></script>

<!-- counter js -->
<script src="assets/js/jquery.counterup.min.js"></script>
<script src="assets/js/waypoints.min.js"></script>

<!--slick.min.js-->
<script src="assets/js/slick.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>

<!--Custom JS-->
<script src="assets/js/custom.js"></script>
<script>
    var words = "";
    $('#loader-inner').hide();

    function setCondition() {
        words = $("#words").val();
    }


    function submit1() {
        setCondition();
        var url = "/svm?" + "words=" + words;
        var result = validate();
        if (result === "OK") {
            $("#loader-inner").show();
            $.ajax({
                type: "GET",
                url: url,
                cache: false, //禁用缓存
                success: function (result) {
                    $('#loader-inner').hide();
                    console.log(result);
                    showModal(result)
                },
                error: function () {
                    $('#loader-inner').hide();
                }
            });
        } else {
            showMsg(result)
        }
    }


    function submit2() {
        $("#loader-inner").show();
        setCondition();
        var result = validate();
        if (result === "OK") {
            var url = "/bayes?" + "words=" + words;
            $.ajax({
                type: "GET",
                url: url,
                cache: false, //禁用缓存
                success: function (result) {
                    $('#loader-inner').hide();
                    console.log(result);
                    showModal(result)
                },
                error: function () {
                    $('#loader-inner').hide();
                }
            });
        } else {
            showMsg(result)
        }
    }

    function dataFill(data) {
        $('#rawPrediction').html(data.rawPrediction);
        $('#prediction').html(data.prediction < 1.0 ? "negative" : "positive");
    }

    // 页面大小变化是仍然保证模态框水平垂直居中
    function showModal(data) {
        dataFill(data);
        $('#userId').attr("disabled", "disabled");
        $('#modal-default').modal({backdrop: 'static', keyboard: false});
        //页面大小变化是仍然保证模态框水平垂直居中
        $(window).on('resize', centerModals);
    }

    function validate() {
        if (!(words && words !== '' && words !== 'undefined')) {
            return "输入不能为空！"
        }
        return "OK";
    }

    // 页面大小变化是仍然保证模态框水平垂直居中
    function showMsg(msg) {
        $('#modal-msg .modal-body p').empty();
        $('#modal-msg .modal-body p').html(msg);
        $('#modal-msg').modal();
        //页面大小变化是仍然保证模态框水平垂直居中
        $(window).on('resize', centerModals);
    }

    // 解决bootstrapV3模态框居中问题(V4版本中直接添加样式即可)
    function centerModals() {
        $('.modal').each(function (i) {
            var $clone = $(this).clone().css('display', 'block').appendTo('body');
            var top = Math.round(($clone.height() - $clone.find('.modal-content').height()) / 2);
            top = top > 0 ? top : 0;
            $clone.remove();
            $(this).find('.modal-content').css("margin-top", top);
        });
    };

</script>

</body>

</html>